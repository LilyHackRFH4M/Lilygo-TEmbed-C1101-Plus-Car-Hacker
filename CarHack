// carjacker.js
// This file contains the Arduino/TFT_eSPI code as a JS string.
// You can keep it stored, download it, or manipulate it in JavaScript environments.

const carjacker_arduino_source = `
/****************************************************
 *  CARJACKER â€” T-Embed C1101 Plus Edition
 *  Arduino + TFT_eSPI port
 *  Original author: You
 *  Port author: ChatGPT
 ****************************************************/

#include <TFT_eSPI.h>
#include <SPI.h>
#include <math.h>

TFT_eSPI tft = TFT_eSPI();

#define SCREEN_W 320
#define SCREEN_H 170

#define BTN_OK     0
#define BTN_BACK   14
#define BTN_UP     3
#define BTN_DOWN   2
#define BTN_LEFT   1
#define BTN_RIGHT  10

bool readBtn(int pin) {
    return digitalRead(pin) == LOW;
}

#define MAX_CARS 100
#define HACKER_LINES 6
#define SCAN_DURATION 60000
#define POPUP_DURATION 3500
#define MAX_PEEN 5

const char* high_end_cars[] = {
    "Bugatti Chiron", "Lamborghini Huracan", "Ferrari SF90", "Porsche 918",
    "Maserati MC20", "McLaren P1", "Aston Martin DBS", "Pagani Huayra",
    "Bentley Continental", "Rolls Royce Ghost", "Koenigsegg Jesko",
    "Lucid Air Sapphire", "Mercedes AMG GT", "Audi R8", "Tesla Roadster",
    "Nissan GT-R Nismo", "Corvette Z06", "BMW i8", "Jaguar F-Type SVR", "Cadillac CT5-V"
};

const char* silly_cars[] = {
    "Kia Rio", "Toyota Prius", "Rusty Tractor", "Shopping Cart", "Moped 50cc",
    "Clown Car", "Golf Cart", "U-Haul Van", "Harley Davidson", "Amazon Drone",
    "Skateboard", "Riding Lawn Mower", "Broken Hoverboard", "1998 Corolla",
    "RC Car", "Segway", "Gas Tanker"
};

struct Peen {
    float x, y;
    float vx, vy;
    float rotation;
    float rotation_speed;
    bool active;
};

struct App {
    bool running;
    bool scanning;
    bool steal_mode;
    bool show_popup;
    bool peen_active;

    uint32_t popup_start;
    uint32_t scan_start;
    uint32_t last_detect;

    uint8_t scan_frame;
    uint8_t popup_frame;

    uint8_t car_count;
    String cars[MAX_CARS];

    uint8_t scroll;

    Peen peen[MAX_PEEN];
};

App app;

void drawFrame() {
    tft.drawRoundRect(2, 2, SCREEN_W-4, SCREEN_H-4, 6, TFT_WHITE);
}

void drawCentered(int y, const char* text, uint16_t color = TFT_WHITE, int size = 2) {
    tft.setTextColor(color);
    tft.setTextSize(size);
    int16_t x = (SCREEN_W - tft.textWidth(text)) / 2;
    tft.drawString(text, x, y);
}

void drawPopup() {
    tft.fillScreen(TFT_BLACK);

    drawCentered(30, "ROCKETGOD", TFT_GREEN, 3);
    drawCentered(60, "WAS HERE", TFT_GREEN, 3);
    drawCentered(100, "betaskynet.com", TFT_CYAN, 2);

    if((app.popup_frame / 10) % 2)
        drawCentered(130, "[ ELITE HAX0R ]", TFT_YELLOW, 2);

    app.popup_frame++;
}

void initPeen() {
    for (int i=0;i<MAX_PEEN;i++) {
        app.peen[i].active = true;

        app.peen[i].x = 40 + i*40;
        app.peen[i].y = 40 + random(40);

        float a = random(360) * 0.01745;
        float s = 1 + random(100)/100.0;
        app.peen[i].vx = cos(a)*s;
        app.peen[i].vy = sin(a)*s;

        app.peen[i].rotation = random(360)*0.01745;
        app.peen[i].rotation_speed = (random(100)-50)/500.0;
    }
}

void updatePeen() {
    float gravity = 0.03;
    float bounce = 0.85;

    for(int i=0;i<MAX_PEEN;i++) {
        Peen& p = app.peen[i];
        if(!p.active) continue;

        p.vy += gravity;

        p.x += p.vx;
        p.y += p.vy;

        p.rotation += p.rotation_speed;

        if(p.x < 10) { p.x = 10; p.vx = fabs(p.vx)*bounce; }
        if(p.x > SCREEN_W-40) { p.x = SCREEN_W-40; p.vx = -fabs(p.vx)*bounce;*
